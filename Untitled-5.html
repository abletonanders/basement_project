<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Basement Image</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700&display=swap');
    
    body {
      background-color: black;
      margin: 0;
      padding: 0;
    }
    .image-container {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding-top: 20px;
      overflow-x: auto;
    }
    .image-container img {
      width: 100%;
      max-width: 100%;
      min-width: 2000px;
      height: auto;
    }
    .content {
      width: 800px;
      max-width: 100%;
      margin: -40px auto;
      background-color: transparent;
      color: white;
      padding: 20px;
      box-sizing: border-box;
    }
    h1 {
      font-family: 'Inter', sans-serif;
      font-weight: 700;
      font-size: 48px;
      letter-spacing: -2px;
      margin: 50px 0 40px;
    }
    .year-box {
      width: 220px;
      height: 60px;
      background-color: #8C2005;
      color: white;
      font-family: 'Inter', sans-serif;
      font-weight: 500;
      font-size: 32px;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: -10px;
      letter-spacing: -1px;
    }
    .description {
      font-family: 'Inter', sans-serif;
      font-weight: 300;
      font-size: 24px;
      line-height: 1.3;
      margin-top: 30px;
      word-wrap: break-word;
    }
    .description a { color: white; text-decoration: underline; }
    .divider {
      width: 100%;
      height: 2px;
      background-color: white;
      margin: 50px 0;
    }
    .stats { text-align: left; font-family: 'Inter', sans-serif; line-height: 1.8; }
    .stat { margin-bottom: 20px; }
    .stat-number {
      color: #ED4B00;
      font-size: 64px;
      display: block;
      margin: -20px 0 -30px;
    }
    .stat-label {
      font-size: 28px;
      font-weight: 500;
      color: white;
      display: block;
      margin-top: -20px;
    }
    .tabs {
      margin: -20px 0 20px;
      text-align: left;
    }
    .tab {
      display: inline-block;
      margin: 0 20px;
      font-family: 'Inter', sans-serif;
      font-weight: 300;
      font-size: 20px;
      cursor: pointer;
      color: white;
      width: 100px;
      text-align: left;
    }
    .tab.active {
      color: #ED4B00;
      font-weight: 500;
      border-bottom: 1px dotted #ED4B00;
    }

    /* Flex container for table + player */
    #tab-content {
      display: flex;
      gap: 20px;
      margin-top: 20px;
    }
    /* Table pane */
    #tab-content .table-pane {
      width: 50%;
    }
    #tab-content .table-pane table {
      width: 100%;
      font-family: 'Inter', sans-serif;
      border-collapse: collapse;
      color: white;
    }
    #tab-content .table-pane td {
      border: none;
      padding: 5px;
    }
    #tab-content .table-pane td:nth-child(1) {
      color: #BBBBBB;
      font-weight: 300;
      font-size: 13px;
      width: 10%;
    }
    #tab-content .table-pane td:nth-child(2) {
      font-weight: 500;
      font-size: 18px;
      width: 60%;
    }
    #tab-content .table-pane td:nth-child(3) {
      color: #BBBBBB;
      font-weight: 700;
      font-size: 14px;
      width: 30%;
    }
    /* Player pane */
    #tab-content .player-pane {
      width: 50%;
      background: transparent;      /* make transparent */
      min-height: 200px;
      display: flex;
      align-items: flex-start;      /* pin to top */
      justify-content: center;
      padding-top: 0;               /* no extra top padding */
    }
  </style>
</head>
<body>
  <div class="image-container">
    <img src="basementpic.jpeg" alt="Basement Image">
  </div>
  <div class="content">
    <h1>7 Years of Basement</h1>
    <div class="year-box">2019 - 2025</div>

    <p class="description">
      An interview with <a href="https://www.papermag.com/tea-abashidze-basement-nyc#rebelltitem15" target="_blank">PAPER</a>. Newly installed lockers by SJEF. 
      A <a href="https://rantsandraves.substack.com/p/theres-the-door-xander-c-gaines-clinton" target="_blank">cult-favorite Substack podcast</a> featuring Clinton’s best tips on how to do the door. Two Wire festivals culminating in the third and current iteration – 
      a monumental 50-hour marathon stretching from Friday evening into Monday morning. As Basement turns 7 in 2025, we reflect on the things New York had – 
      from Output to Chernobyl – while properly mourning for the recent things that New York most lost (Paragon and TBA, rest in peace). 
      All that remains now is the music that echoes through the hallowed basement of the Manhattan Door factory every Sunday morning, carried on the backs 
      of some of the most dutiful apostles of New York's nightlife.
    </p>

    <div class="divider"></div>
    <div class="stats">
      <div class="stat"><span class="stat-number">600+</span><span class="stat-label">artists</span></div>
      <div class="stat"><span class="stat-number">369</span><span class="stat-label">club nights</span></div>
      <div class="stat"><span class="stat-number">38</span><span class="stat-label">parties</span></div>
    </div>
    <div class="divider"></div>
    <div class="tabs">
      <span class="tab active" id="tab-all" onclick="showTab('all')">All Stages</span>
      <span class="tab" id="tab-basement" onclick="showTab('basement')">Basement</span>
      <span class="tab" id="tab-studio" onclick="showTab('studio')">Studio</span>
    </div>
    <!-- Initial SoundCloud embed -->
    <div id="tab-content">
      <div class="table-pane">
        <!-- Table will be injected here -->
      </div>
      <div class="player-pane">
        <iframe 
          width="100%" height="450" scrolling="no" frameborder="no"
          src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/users/2716&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;visual=true"
          data-src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/users/2716&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;visual=true"
          id="item_no_2">
        </iframe>
      </div>
    </div>
  </div>

  <script>
    function loadCSVData(url, limit) {
      fetch(url)
        .then(r => r.text())
        .then(csvText => {
          const rows = csvText.trim().split('\n').slice(1);
          const limited = limit ? rows.slice(0, limit) : rows;
  
          // build table pane
          let tableHtml = '<table><tbody>';
          limited.forEach((line, idx) => {
            const cols = line.split(',');
            const djText = cols[0] || '';
            const count  = cols[1] || '';
            const scUrl  = (cols[2] || '').trim();
            tableHtml += `
              <tr data-sc-url="${scUrl}">
                <td>${idx + 1}</td>
                <td>${djText}</td>
                <td>${count}</td>
              </tr>`;
          });
          tableHtml += '</tbody></table>';
  
          // inject only the table into the left pane
          const container = document.getElementById('tab-content');
          container.querySelector('.table-pane').innerHTML = tableHtml;
        })
        .catch(err => {
          console.error(err);
        });
    }
  
    function showTab(tab) {
      document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
      document.getElementById('tab-' + tab).classList.add('active');
  
      const urls = {
        all:      'https://raw.githubusercontent.com/abletonanders/basement_project/main/all_data.csv',
        basement: 'https://raw.githubusercontent.com/abletonanders/basement_project/main/basement_data.csv',
        studio:   'https://raw.githubusercontent.com/abletonanders/basement_project/main/studio_data.csv'
      };
      const limits = { all:46, basement:41, studio:37 };
  
      loadCSVData(urls[tab], limits[tab]);
    }
  
    // init
    showTab('all');
  </script>
</body>
</html>
